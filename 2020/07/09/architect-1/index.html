<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Nginx,">










<meta name="description" content="å¥½çš„ï¼Œæˆ‘ä»¬æ¥æwebæœåŠ¡å™¨ï¼Œè¿™ä¸€èŠ‚ä¸»è¦åŒ…æ‹¬ä¸€ä¸‹å†…å®¹ï¼šwebæœåŠ¡å™¨ã€Nginxï¼ˆTengineï¼‰å®‰è£…ã€è„šæœ¬åŒ–æ“ä½œã€Nginxé…ç½®æ–‡ä»¶">
<meta name="keywords" content="Nginx">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaWebç¬”è®°-Nginx D1">
<meta property="og:url" content="http://yoursite.com/2020/07/09/architect-1/index.html">
<meta property="og:site_name" content="é»‘é¢å®å®çš„åšå®¢">
<meta property="og:description" content="å¥½çš„ï¼Œæˆ‘ä»¬æ¥æwebæœåŠ¡å™¨ï¼Œè¿™ä¸€èŠ‚ä¸»è¦åŒ…æ‹¬ä¸€ä¸‹å†…å®¹ï¼šwebæœåŠ¡å™¨ã€Nginxï¼ˆTengineï¼‰å®‰è£…ã€è„šæœ¬åŒ–æ“ä½œã€Nginxé…ç½®æ–‡ä»¶">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2020-07-09T13:50:03.031Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaWebç¬”è®°-Nginx D1">
<meta name="twitter:description" content="å¥½çš„ï¼Œæˆ‘ä»¬æ¥æwebæœåŠ¡å™¨ï¼Œè¿™ä¸€èŠ‚ä¸»è¦åŒ…æ‹¬ä¸€ä¸‹å†…å®¹ï¼šwebæœåŠ¡å™¨ã€Nginxï¼ˆTengineï¼‰å®‰è£…ã€è„šæœ¬åŒ–æ“ä½œã€Nginxé…ç½®æ–‡ä»¶">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2020/07/09/architect-1/">





  <title>JavaWebç¬”è®°-Nginx D1 | é»‘é¢å®å®çš„åšå®¢</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?bb1b3f4c4b4bc6dbe5d0c19279b2faa2";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">é»‘é¢å®å®çš„åšå®¢</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">ç²¾é€šLinuxã€OpenStackã€Dockerç­‰å•è¯æ‹¼å†™</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categrories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/09/architect-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é»‘é¢å®å®">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/img.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é»‘é¢å®å®çš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">JavaWebç¬”è®°-Nginx D1</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-07-09T17:10:45+08:00">
                2020-07-09
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Javaå¼€å‘/" itemprop="url" rel="index">
                    <span itemprop="name">Javaå¼€å‘</span>
                  </a>
                </span>

                
                
              

              <span class="post-time">
                &nbsp; | &nbsp;
                <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
                </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                <span class="post-count"> 12min </span>
                </span>
              </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/07/09/architect-1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2020/07/09/architect-1/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2020/07/09/architect-1/" class="leancloud_visitors" data-flag-title="JavaWebç¬”è®°-Nginx D1">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>å¥½çš„ï¼Œæˆ‘ä»¬æ¥æwebæœåŠ¡å™¨ï¼Œè¿™ä¸€èŠ‚ä¸»è¦åŒ…æ‹¬ä¸€ä¸‹å†…å®¹ï¼šwebæœåŠ¡å™¨ã€Nginxï¼ˆTengineï¼‰å®‰è£…ã€è„šæœ¬åŒ–æ“ä½œã€Nginxé…ç½®æ–‡ä»¶</p>
<a id="more"></a>
<p>å‰ä¸‰å¤©çš„åšå®¢æ•´ç†çš„æœ‰äº›æ°´ï¼Œä¸»è¦å› ä¸ºä¸œè¥¿æ˜¯å¾ˆä¹…ä»¥å‰å­¦çš„ï¼Œè€Œä¸”å‘ç°è‡ªå·±åœ¨CSDNä¸Šæœ‰æ•´ç†ç¬”è®°ï¼Œä½†æ˜¯ä»¥å‰è®°çš„ä¸œè¥¿çœŸçš„çƒ‚ï¼Œè¿‡ä¸€æ®µæ—¶é—´æ‹¿å‡ºæ¥å°±æ„Ÿè§‰å·²ç»è¯»ä¸æ‡‚å½“åˆåœ¨å†™äº›ä»€ä¹ˆäº†ğŸ˜‚ã€‚</p>
<p>ä»è¿™ç¯‡ç¬”è®°å¼€å§‹ä¼šåŒæ—¶å¼€å§‹çœ‹SpringBootç­‰æ¡†æ¶çš„æºä»£ç ï¼Œå¹¶ä¸”ä¸€èµ·æ›´æ–°ï¼Œåˆ°æ—¶å€™ä¼šç ”ç©¶ä¸€ä¸‹Hexoè¿™ä¸ªåšå®¢æ¡†æ¶å¦‚ä½•å¯¹åŒç³»åˆ—ç¬”è®°ç›®å½•å½’æ¡£æ˜¾ç¤ºï¼Œè€Œä¸æ˜¯æŒ‰æ—¶é—´é¡ºåºæ’åºã€‚</p>
<p>å¥½äº†å¼€å§‹æ•´ç†ä»Šå¤©çš„ç¬”è®°</p>
<h2 id="webæœåŠ¡å™¨"><a href="#webæœåŠ¡å™¨" class="headerlink" title="webæœåŠ¡å™¨"></a>webæœåŠ¡å™¨</h2><p>WebæœåŠ¡å™¨åŠŸèƒ½å°±æ˜¯æä¾›Webä¿¡æ¯æµè§ˆæœåŠ¡ã€‚å®ƒéœ€è¦æ”¯æŒHTTPåè®®ã€HTMLæ–‡æ¡£æ ¼å¼åŠURLï¼Œç®€å•æ¥è¯´webæœåŠ¡å™¨è¦èƒ½åšåˆ°è§£æä¸»æœºåã€å¹¶æ‰¾åˆ°å¯¹åº”çš„è¯·æ±‚èµ„æºï¼Œè¿™é‡Œä¸»è¦ç®€ä»‹ä¸€ä¸‹Nginx</p>
<p>Nginxæ˜¯ä¸€æ¬¾è½»é‡çº§çš„WebæœåŠ¡å™¨ã€åå‘ä»£ç†æœåŠ¡å™¨ã€ç”µå­é‚®ä»¶ä»£ç†æœåŠ¡å™¨ï¼Œç”±ä¿„ç½—æ–¯çš„ç¨‹åºè®¾è®¡å¸ˆIgor Sysoevæ‰€å¼€å‘ï¼›å»å¹´å¹´åº•æœ‰å…³äºNginxä¹‹çˆ¶Sysoevè¢«æ•çš„æ–°é—»ï¼Œå¤§è‡´å†…å®¹æ˜¯Sysoevçš„è€ä¸œå®¶Ramblerå…¬å¸è®¤ä¸ºNginxæ˜¯Sysoevåœ¨å…¬å¸ä»»èŒæœŸé—´å¼€å‘çš„ï¼Œæ‰€æœ‰æƒä¹Ÿåº”è¯¥æ˜¯å…¬å¸çš„ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ä¸šä½™æ—¶é—´å¼€å‘çš„ä¸œè¥¿ä¹Ÿå±äºå…¬å¸å—â€¦</p>
<p>Nginxä¸»è¦è§£å†³çš„é—®é¢˜åŒ…æ‹¬ï¼š</p>
<ul>
<li>é«˜å¹¶å‘ ï¼š   å®˜æ–¹æµ‹è¯•nginxèƒ½å¤Ÿæ”¯æ’‘5ä¸‡å¹¶å‘é“¾æ¥ï¼Œå¹¶ä¸”cpuã€å†…å­˜ç­‰èµ„æºæ¶ˆè€—å´éå¸¸ä½ï¼Œè¿è¡Œéå¸¸ç¨³å®š</li>
<li>è´Ÿè½½å‡è¡¡</li>
<li>é«˜å¯ç”¨</li>
<li>è™šæ‹Ÿä¸»æœº</li>
<li>ä¼ªé™æ€</li>
<li>åŠ¨é™åˆ†ç¦»</li>
</ul>
<h2 id="Nginxï¼ˆTengineï¼‰å®‰è£…"><a href="#Nginxï¼ˆTengineï¼‰å®‰è£…" class="headerlink" title="Nginxï¼ˆTengineï¼‰å®‰è£…"></a>Nginxï¼ˆTengineï¼‰å®‰è£…</h2><p>è¿™é‡Œæ˜¯ä½¿ç”¨çš„æ˜¯Tengineï¼ŒTengineæ˜¯ç”±æ·˜å®å‘èµ·çš„WebæœåŠ¡å™¨é¡¹ç›®ã€‚å®ƒåœ¨Nginxçš„åŸºç¡€ä¸Šï¼Œé’ˆå¯¹å¤§è®¿é—®é‡ç½‘ç«™çš„éœ€æ±‚ï¼Œæ·»åŠ äº†å¾ˆå¤šé«˜çº§åŠŸèƒ½å’Œç‰¹æ€§ï¼Œå®Œå…¨å…¼å®¹Nginxçš„é…ç½®ï¼Œç»§æ‰¿äº†Nginxçš„ç‰¹æ€§ï¼›Tengineçš„æ€§èƒ½å’Œç¨³å®šæ€§å·²ç»åœ¨å¤§å‹çš„ç½‘ç«™å¦‚æ·˜å®ç½‘ï¼Œå¤©çŒ«å•†åŸç­‰å¾—åˆ°äº†å¾ˆå¥½çš„æ£€éªŒã€‚å®ƒçš„æœ€ç»ˆç›®æ ‡æ˜¯æ‰“é€ ä¸€ä¸ªé«˜æ•ˆã€ç¨³å®šã€å®‰å…¨ã€æ˜“ç”¨çš„Webå¹³å°ã€‚</p>
<h3 id="ç¯å¢ƒ-amp-ä¾èµ–"><a href="#ç¯å¢ƒ-amp-ä¾èµ–" class="headerlink" title="ç¯å¢ƒ&amp;ä¾èµ–"></a>ç¯å¢ƒ&amp;ä¾èµ–</h3><p>æ“ä½œç³»ç»Ÿï¼š centOS</p>
<p>ä¾èµ–ç»„ä»¶ï¼š gcc openssl-devel pcre-devel zlib-devel</p>
<p>å®‰è£…<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install gcc openssl-devel pcre-devel zlib-devel</span><br></pre></td></tr></table></figure></p>
<p><a href="http://tengine.taobao.org/" target="_blank" rel="noopener">Tengineä¸‹è½½å’Œæ–‡æ¡£</a></p>
<p><a href="http://nginx.org" target="_blank" rel="noopener">Nginxå®˜ç½‘å’Œæ–‡æ¡£</a></p>
<h3 id="ä¸‹è½½-amp-å®‰è£…"><a href="#ä¸‹è½½-amp-å®‰è£…" class="headerlink" title="ä¸‹è½½&amp;å®‰è£…"></a>ä¸‹è½½&amp;å®‰è£…</h3><p><strong>ä¸‹è½½&amp;è§£å‹Tengine</strong></p>
<p><a href="http://tengine.taobao.org/" target="_blank" rel="noopener">http://tengine.taobao.org/</a></p>
<p>éšæ„æ‰¾ä¸€ä¸ªæœåŠ¡å™¨ç›®å½•è§£å‹Tengineæºä»£ç ï¼Œè§£å‹åè¿›å…¥æºä»£ç æ ¹ç›®å½•</p>
<p><strong>ç¼–è¯‘å®‰è£…</strong><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./ configure --prefix=/usr/local/tengine</span><br><span class="line"></span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure></p>
<p>é€šå¸¸å°†tengineå®‰è£…åœ¨<code>/usr/local/tengine</code>ç›®å½•ä¸‹</p>
<p>å®Œæˆä»¥ä¸Šä¸¤æ­¥Nginxå°±å·²ç»å®‰è£…å®Œæˆï¼Œå¯ä»¥è¿›å…¥åˆ°<code>/usr/local/tengine</code>ç›®å½•ä¸­æŸ¥çœ‹ç¼–è¯‘åçš„æ–‡ä»¶ï¼Œè¿™ä¸ªç›®å½•æœ‰confã€htmlã€logsä»¥åŠsbinå››ä¸ªæ–‡ä»¶å¤¹ï¼Œå…¶ä¸­sbiné‡Œä¿å­˜æ‰€æœ‰å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥è¿è¡Œå…¶ä¸­çš„nginxè¿™æ ·nginxå°±å¯åŠ¨äº†ï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—®æœåŠ¡å™¨çš„å…¬ç½‘ipå°±èƒ½çœ‹åˆ°Nginxé»˜è®¤çš„ä¸»é¡µã€‚</p>
<p>ç›´æ¥å¯åŠ¨nginxçš„è¯å…³é—­æœåŠ¡å™¨æ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦ç”¨ä¼ ç»Ÿçš„kill -9 æ€æ‰å¯¹åº”çš„æ‰€æœ‰è¿›ç¨‹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | grep nginx</span><br><span class="line">kill -9 [pid]</span><br></pre></td></tr></table></figure></p>
<h2 id="è„šæœ¬åŒ–æ“ä½œ"><a href="#è„šæœ¬åŒ–æ“ä½œ" class="headerlink" title="è„šæœ¬åŒ–æ“ä½œ"></a>è„šæœ¬åŒ–æ“ä½œ</h2><p>è¿™é‡Œæä¾›ä¸€ä¸ªè„šæœ¬ï¼Œå¯ä»¥é€šè¿‡ç®€æ´çš„å‘½ä»¤æ§åˆ¶Nginxçš„æœåŠ¡ï¼Œè¿™ä¸ªè„šæœ¬ä¸æ˜¯å®˜æ–¹æä¾›çš„ï¼Œåšå¼€å‘æ—¶é€›gitæ‰¾åˆ°å¥½ç”¨çš„è„šæœ¬æ—¶ä¸è¦ç›´æ¥æ‹¿æ¥è·‘ï¼Œæœ€å¥½å…ˆæµè§ˆä¸€ä¸‹è„šæœ¬çš„é€»è¾‘</p>
<p>åˆ›å»º<code>/etc/init.d/nginx</code>æ–‡ä»¶ä¸­ï¼Œå°†åé¢æä¾›çš„è„šæœ¬æ‹·è´åˆ°é‡Œé¢ï¼Œå¹¶ä¿®æ”¹å¯æ‰§è¡Œæƒé™<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 777 nginx</span><br></pre></td></tr></table></figure></p>
<h4 id="å¯åŠ¨æœåŠ¡"><a href="#å¯åŠ¨æœåŠ¡" class="headerlink" title="å¯åŠ¨æœåŠ¡"></a>å¯åŠ¨æœåŠ¡</h4><p><code>service Nginx start</code>  å¯åŠ¨æœåŠ¡</p>
<p><code>service Nginx stop</code> åœæ­¢</p>
<p><code>service Nginx status</code> çŠ¶æ€</p>
<p><code>service Nginx reload</code> åŠ¨æ€é‡è½½é…ç½®æ–‡ä»¶</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>!/bin/sh</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span> nginx - this script starts and stops the nginx daemon</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span> chkconfig:   - 85 15 </span><br><span class="line"><span class="meta">#</span> description:  Nginx is an HTTP(S) server, HTTP(S) reverse \</span><br><span class="line"><span class="meta">#</span>               proxy and IMAP/POP3 proxy server</span><br><span class="line"><span class="meta">#</span> processname: nginx</span><br><span class="line"><span class="meta">#</span> config:      /etc/nginx/nginx.conf</span><br><span class="line"><span class="meta">#</span> config:      /etc/sysconfig/nginx</span><br><span class="line"><span class="meta">#</span> pidfile:     /var/run/nginx.pid</span><br><span class="line"> </span><br><span class="line"><span class="meta">#</span> Source function library.</span><br><span class="line">. /etc/rc.d/init.d/functions</span><br><span class="line"> </span><br><span class="line"><span class="meta">#</span> Source networking configuration.</span><br><span class="line">. /etc/sysconfig/network</span><br><span class="line"> </span><br><span class="line"><span class="meta">#</span> Check that networking is up.</span><br><span class="line">[ "$NETWORKING" = "no" ] &amp;&amp; exit 0</span><br><span class="line"> </span><br><span class="line">nginx="/usr/local/tengine/sbin/nginx"</span><br><span class="line">prog=$(basename $nginx)</span><br><span class="line"> </span><br><span class="line">NGINX_CONF_FILE="/usr/local/tengine/conf/nginx.conf"</span><br><span class="line"> </span><br><span class="line">[ -f /etc/sysconfig/nginx ] &amp;&amp; . /etc/sysconfig/nginx</span><br><span class="line"> </span><br><span class="line">lockfile=/var/lock/subsys/nginx</span><br><span class="line"> </span><br><span class="line">make_dirs() &#123;</span><br><span class="line"><span class="meta">   #</span> make required directories</span><br><span class="line">   user=`nginx -V 2&gt;&amp;1 | grep "configure arguments:" | sed 's/[^*]*--user=\([^ ]*\).*/\1/g' -`</span><br><span class="line">   options=`$nginx -V 2&gt;&amp;1 | grep 'configure arguments:'`</span><br><span class="line">   for opt in $options; do</span><br><span class="line">       if [ `echo $opt | grep '.*-temp-path'` ]; then</span><br><span class="line">           value=`echo $opt | cut -d "=" -f 2`</span><br><span class="line">           if [ ! -d "$value" ]; then</span><br><span class="line">               # echo "creating" $value</span><br><span class="line">               mkdir -p $value &amp;&amp; chown -R $user $value</span><br><span class="line">           fi</span><br><span class="line">       fi</span><br><span class="line">   done</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">start() &#123;</span><br><span class="line">    [ -x $nginx ] || exit 5</span><br><span class="line">    [ -f $NGINX_CONF_FILE ] || exit 6</span><br><span class="line">    make_dirs</span><br><span class="line">    echo -n $"Starting $prog: "</span><br><span class="line">    daemon $nginx -c $NGINX_CONF_FILE</span><br><span class="line">    retval=$?</span><br><span class="line">    echo</span><br><span class="line">    [ $retval -eq 0 ] &amp;&amp; touch $lockfile</span><br><span class="line">    return $retval</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">stop() &#123;</span><br><span class="line">    echo -n $"Stopping $prog: "</span><br><span class="line">    killproc $prog -QUIT</span><br><span class="line">    retval=$?</span><br><span class="line">    echo</span><br><span class="line">    [ $retval -eq 0 ] &amp;&amp; rm -f $lockfile</span><br><span class="line">    return $retval</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">restart() &#123;</span><br><span class="line">    configtest || return $?</span><br><span class="line">    stop</span><br><span class="line">    sleep 1</span><br><span class="line">    start</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">reload() &#123;</span><br><span class="line">    configtest || return $?</span><br><span class="line">    echo -n $"Reloading $prog: "</span><br><span class="line">    killproc $nginx -HUP</span><br><span class="line">    RETVAL=$?</span><br><span class="line">    echo</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">force_reload() &#123;</span><br><span class="line">    restart</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">configtest() &#123;</span><br><span class="line"><span class="meta">  $</span>nginx -t -c $NGINX_CONF_FILE</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">rh_status() &#123;</span><br><span class="line">    status $prog</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">rh_status_q() &#123;</span><br><span class="line">    rh_status &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">case "$1" in</span><br><span class="line">    start)</span><br><span class="line">        rh_status_q &amp;&amp; exit 0</span><br><span class="line">        $1</span><br><span class="line">        ;;</span><br><span class="line">    stop)</span><br><span class="line">        rh_status_q || exit 0</span><br><span class="line">        $1</span><br><span class="line">        ;;</span><br><span class="line">    restart|configtest)</span><br><span class="line">        $1</span><br><span class="line">        ;;</span><br><span class="line">    reload)</span><br><span class="line">        rh_status_q || exit 7</span><br><span class="line">        $1</span><br><span class="line">        ;;</span><br><span class="line">    force-reload)</span><br><span class="line">        force_reload</span><br><span class="line">        ;;</span><br><span class="line">    status)</span><br><span class="line">        rh_status</span><br><span class="line">        ;;</span><br><span class="line">    condrestart|try-restart)</span><br><span class="line">        rh_status_q || exit 0</span><br><span class="line">            ;;</span><br><span class="line">    *)</span><br><span class="line">        echo $"Usage: $0 &#123;start|stop|status|restart|condrestart|try-restart|reload|force-reload|configtest&#125;"</span><br><span class="line">        exit 2</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„è„šæœ¬ä¸­æœ‰ä¸¤ä¸ªå˜é‡éœ€è¦è®¾ç½®å¯¹ä½ çš„æœåŠ¡å™¨å¯¹åº”ä½ç½®<br><br>nginx=â€/usr/local/tengine/sbin/nginxâ€ <br><br>NGINX_CONF_FILE=â€/usr/local/tengine/conf/nginx.confâ€`</p>
</blockquote>
<h2 id="Nginxé…ç½®æ–‡ä»¶è§£æ"><a href="#Nginxé…ç½®æ–‡ä»¶è§£æ" class="headerlink" title="Nginxé…ç½®æ–‡ä»¶è§£æ"></a>Nginxé…ç½®æ–‡ä»¶è§£æ</h2><h3 id="Nginxé…ç½®ç»“æ„"><a href="#Nginxé…ç½®ç»“æ„" class="headerlink" title="Nginxé…ç½®ç»“æ„"></a>Nginxé…ç½®ç»“æ„</h3><p>nginxé…ç½®æ–‡ä»¶åœ¨å®‰è£…ç›®å½•çš„confç›®å½•ä¸­<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/tengine/conf/nginx.conf</span><br></pre></td></tr></table></figure></p>
<p>ä¸€èˆ¬æ¥è¯´ï¼ŒNginxé…ç½®æ–‡ä»¶åŒ…å«ä¸€ä¸‹å‡ ä¸ªéƒ¨åˆ†<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> å…¨å±€å—</span><br><span class="line">...              </span><br><span class="line"><span class="meta">#</span> eventså—</span><br><span class="line">events &#123;         </span><br><span class="line">   ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#</span> httpå—</span><br><span class="line">http      </span><br><span class="line">&#123;</span><br><span class="line">    # httpå…¨å±€å—</span><br><span class="line">    ...   </span><br><span class="line">    # è™šæ‹Ÿä¸»æœºserverå—</span><br><span class="line">    server        </span><br><span class="line">    &#123; </span><br><span class="line">        # serverå…¨å±€å—</span><br><span class="line">        ...       </span><br><span class="line">        # locationå—</span><br><span class="line">        location [PATTERN]   </span><br><span class="line">        &#123;</span><br><span class="line">            ...</span><br><span class="line">        &#125;</span><br><span class="line">        location [PATTERN] </span><br><span class="line">        &#123;</span><br><span class="line">            ...</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    server</span><br><span class="line">    &#123;</span><br><span class="line">      ...</span><br><span class="line">    &#125;</span><br><span class="line">    # httpå…¨å±€å—</span><br><span class="line">    ...     </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>å…¨å±€å—ï¼šé…ç½®å½±å“nginxå…¨å±€çš„æŒ‡ä»¤ã€‚</p>
</li>
<li><p>eventså—ï¼šé…ç½®å½±å“nginxæœåŠ¡å™¨ä¸clinetçš„ç½‘ç»œè¿æ¥ã€‚</p>
</li>
<li><p>httpå—ï¼šå¯ä»¥åµŒå¥—å¤šä¸ªserverï¼Œé…ç½®ä»£ç†ã€ç¼“å­˜ã€æ—¥å¿—å®šä¹‰ç­‰ç»å¤§å¤šæ•°åŠŸèƒ½å’Œç¬¬ä¸‰æ–¹æ¨¡å—çš„é…ç½®ã€‚</p>
</li>
<li><p>serverå—ï¼šé…ç½®è™šæ‹Ÿä¸»æœºçš„ç›¸å…³å‚æ•°ï¼Œä¸€ä¸ªhttpä¸­å¯ä»¥æœ‰å¤šä¸ªserverã€‚</p>
<ul>
<li>è™šæ‹Ÿä¸»æœºï¼šä¸€ç§ç‰¹æ®Šçš„è½¯ç¡¬ä»¶æŠ€æœ¯,å®ƒå°†ä¸€å°æœåŠ¡å™¨åˆ†æˆå¤šä¸ªè™šæ‹Ÿçš„æœåŠ¡å™¨,æ¯ä¸ªè™šæ‹Ÿä¸»æœºå¯ä»¥ç‹¬ç«‹å¯¹å¤–æä¾›æœåŠ¡,è¿™æ ·å°±å¯ä»¥å®ç°ä¸€å°ä¸»æœºå¯¹å¤–æä¾›å¤šä¸ªwebæœåŠ¡,ä½ åœ¨ä¸€ä¸ªæœåŠ¡å™¨ä¸Šéƒ¨ç½²äº†å¤šä¸ªjavaWebå·¥ç¨‹ï¼Œç„¶åNginxè¿™é‡Œé…ç½®æ¯ä¸ªå·¥ç¨‹ä½œä¸ºä¸€ä¸ªserverï¼Œä¾‹å¦‚å‰åç«¯åˆ†ç¦»ï¼Œå‰ç«¯å·¥ç¨‹äºåç«¯å·¥ç¨‹å¯ä»¥ä½œä¸ºä¸¤ä¸ªå·¥ç¨‹éƒ¨ç½²åœ¨åŒä¸€ä¸ªæœåŠ¡å™¨ï¼Œç”±Nginxç»Ÿä¸€é…ç½®</li>
</ul>
</li>
<li><p>locationå—ï¼šé…ç½®è¯·æ±‚çš„è·¯ç”±ï¼Œä»¥åŠå„ç§é¡µé¢çš„å¤„ç†æƒ…å†µã€‚</p>
</li>
</ul>
<h3 id="Nginxé…ç½®æ–‡ä»¶å…·ä½“è§£æ"><a href="#Nginxé…ç½®æ–‡ä»¶å…·ä½“è§£æ" class="headerlink" title="Nginxé…ç½®æ–‡ä»¶å…·ä½“è§£æ"></a>Nginxé…ç½®æ–‡ä»¶å…·ä½“è§£æ</h3><p>è¿™é‡Œæˆ‘ä¼šæŠŠå·¥ç¨‹è‡ªå¸¦çš„é…ç½®æ–‡ä»¶åˆ†æ®µçš„å±•ç¤ºåœ¨ä¸‹æ–¹ï¼Œå¹¶æ•´ç†æ¯ä¸ªå¸¸ç”¨é…ç½®çš„ä½œç”¨</p>
<p><strong>fragment1ï¼ˆå…¨å±€å—ï¼‰</strong><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>user  nobody;</span><br><span class="line">worker_processes  1;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>error_log  logs/error.log;</span><br><span class="line"><span class="meta">#</span>error_log  logs/error.log  notice;</span><br><span class="line"><span class="meta">#</span>error_log  logs/error.log  info;</span><br><span class="line"><span class="meta">#</span>error_log  "pipe:rollback logs/error_log interval=1d baknum=7 maxsize=2G";</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>pid        logs/nginx.pid;</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>å®šä¹‰Nginxè¿è¡Œçš„ç”¨æˆ·å’Œç”¨æˆ·ç»„ï¼Œé»˜è®¤è¢«æ³¨é‡Šå³é»˜è®¤é…ç½®ä¸ºnobodyï¼Œè¿™ä¸ªé…ç½®ä»£è¡¨å“ªä¸ªç”¨æˆ·ä»¥åŠç”¨æˆ·ç»„è¿è¡Œçš„Nginxå¦‚æœåœ¨é…ç½®æ—¶çœç•¥äº†ç”¨æˆ·ç»„åï¼Œé‚£ä¹ˆç”¨æˆ·ç»„åé»˜è®¤ç­‰äºç”¨æˆ·åï¼›é€šå¸¸é‡åˆ°æƒé™é—®é¢˜æ˜¯è¿™ä¸ªå‚æ•°è®¾ç½®çš„é—®é¢˜ï¼Œä¸€èˆ¬ä¸è¦è®¾ç½®ä¸ºroot</p>
<p>  <code>user zhou zhou;</code></p>
</li>
<li><p>è¿›ç¨‹æ•°ï¼Œå³Nginxå¯ä»¥å¼€å¯å¤šå°‘è¿›ç¨‹ï¼Œå»ºè®®è®¾ç½®ä¸ºç­‰äºCPUæ€»æ ¸å¿ƒæ•°ã€‚</p>
<p>  <code>worker_processes 4;</code></p>
</li>
<li><p>å…¨å±€é”™è¯¯æ—¥å¿—ï¼Œæ ¼å¼ä¸º<code>error_log &lt;FILE&gt; &lt;LEVEL&gt;;</code>ï¼Œå…¶ä¸­é”™è¯¯æ—¥å¿—ç±»å‹åŒ…æ‹¬<code>[ debug | info | notice | warn | error | crit ]</code></p>
<p>  <code>error_log /var/log/nginx/error.log info;</code></p>
</li>
<li><p>è®¾ç½®è¿›ç¨‹æ–‡ä»¶</p>
<p>  <code>pid /var/run/nginx.pid;</code></p>
</li>
</ul>
<p><strong>fragment2ï¼ˆeventså—ï¼‰</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">events &#123;</span><br><span class="line">    worker_connections  1024;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>eventsæ¨¡å—åŒ…å«nginxä¸­æ‰€æœ‰å¤„ç†è¿æ¥çš„è®¾ç½®.</p>
</li>
<li><p>eventsæœ‰ä¸€ä¸ªäº‹ä»¶æ¨¡å‹çš„é…ç½®ï¼Œé»˜è®¤é…ç½®æ–‡ä»¶ä¸­æ²¡æœ‰è®¾ç½®ï¼ˆåç»­è¡¥å……æ¯ç§è®¾ç½®çš„ä½œç”¨ï¼‰</p>
<p>  <code>use [ kqueue | rtsig | epoll | /dev/poll | select | poll ];</code></p>
</li>
<li><p>å•ä¸ªè¿›ç¨‹æœ€å¤§è¿æ¥æ•° <code>worker_connections 1024;</code> </p>
<ul>
<li>æ‰€ä»¥Nginxæœ€å¤§å¹¶å‘æ€»æ•°æ˜¯ worker_processes å’Œ worker_connections çš„ä¹˜ç§¯ï¼Œå³ max_clients = worker_processes * worker_connectionsï¼›</li>
<li>è®¾ç½®äº†åå‘ä»£ç†çš„æƒ…å†µä¸‹ï¼Œmax_clients = worker_processes * worker_connections / 4ï¼Œåå‘ä»£ç†é™¤ä»¥4æ˜¯ä¸€ä¸ªç»éªŒç»“è®º</li>
<li>å¦å¤–è¯¥è®¾ç½®åªæ˜¯ç†è®ºå€¼ï¼Œworker_connectionså€¼çš„è®¾ç½®è·Ÿå†…å­˜å¤§å°æœ‰å…³ï¼Œè€Œä¸”å› ä¸ºå—åˆ°I/Oçº¦æŸï¼Œæ‰€ä»¥max_clientsçš„å€¼è¦å°äºç³»ç»Ÿå¯ä»¥æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶å¥æŸ„æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘çš„ç³»ç»Ÿæœ€å¤§åŒæ—¶èƒ½æ‰“å¼€è¿™ä¹ˆå¤šæ–‡ä»¶ï¼ŒNginxè¿™è¾¹èƒ½åŒæ—¶åˆ›å»ºçš„è¿æ¥åº”è¯¥å°äºè¿™ä¸ªå€¼ï¼Œè‹¥æŸ¥çœ‹ç³»ç»Ÿæ‰“å¼€çš„æœ€å¤§æ–‡ä»¶å¥æŸ„æ•°ä½¿ç”¨<code>â€“$ cat /proc/sys/fs/file-max</code>å‘½ä»¤</li>
<li>worker_connections çš„å€¼éœ€æ ¹æ®worker_processesè¿›ç¨‹æ•°ç›®å’Œç³»ç»Ÿå¯ä»¥æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æ€»æ•°è¿›è¡Œé€‚å½“åœ°è¿›è¡Œè®¾ç½®,ä½¿å¾—å¹¶å‘æ€»æ•°å°äºæ“ä½œç³»ç»Ÿå¯ä»¥æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æ•°ç›®ï¼Œå½“ç„¶ï¼Œç†è®ºä¸Šçš„å¹¶å‘æ€»æ•°å¯èƒ½ä¼šå’Œå®é™…æœ‰æ‰€åå·®ï¼Œå› ä¸ºä¸»æœºè¿˜æœ‰å…¶ä»–çš„å·¥ä½œè¿›ç¨‹éœ€è¦æ¶ˆè€—ç³»ç»Ÿèµ„æºã€‚</li>
<li>æœ€åä¸€ç‚¹æ˜¯ï¼Œlinuxå¯¹äºä¸€ä¸ªè¿›ç¨‹èƒ½æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶å¥æŸ„ä¹Ÿæœ‰é™åˆ¶ï¼Œé…ç½®è¿”å›å¦‚ä¸‹ï¼šç³»ç»Ÿæ€»é™åˆ¶ï¼š <code>/proc/sys/fs/file-max</code>ï¼Œå½“å‰ä½¿ç”¨å¥æŸ„æ•°ï¼š<code>/proc/sys/fs/file-nr</code>ï¼Œä¿®æ”¹å¥æŸ„æ•°ï¼š<code>ulimit -SHn 65535</code></li>
</ul>
</li>
</ul>
<p><strong>fragment3ï¼ˆhttpå—ï¼‰</strong><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">http &#123;</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line"></span><br><span class="line">    #log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '</span><br><span class="line">    #                  '$status $body_bytes_sent "$http_referer" '</span><br><span class="line">    #                  '"$http_user_agent" "$http_x_forwarded_for"';</span><br><span class="line"></span><br><span class="line">    #access_log  logs/access.log  main;</span><br><span class="line">    #access_log  "pipe:rollback logs/access_log interval=1d baknum=7 maxsize=2G"  main;</span><br><span class="line"></span><br><span class="line">    sendfile        on;</span><br><span class="line">    #tcp_nopush     on;</span><br><span class="line"></span><br><span class="line">    #keepalive_timeout  0;</span><br><span class="line">    keepalive_timeout  65;</span><br><span class="line"></span><br><span class="line">    #gzip  on;</span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">    ...</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">    ...</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p><code>include mime.types;</code> è¿™é‡Œæ˜¯includeäº†./mime.typesè¿™ä¸ªæ–‡ä»¶ï¼Œå®ƒå­˜å‚¨äº†æ–‡ä»¶æ‰©å±•åä¸æ–‡ä»¶ç±»å‹æ˜ å°„è¡¨ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">types &#123;</span><br><span class="line">text/html                                        html htm shtml;</span><br><span class="line">text/css                                         css;</span><br><span class="line">text/xml                                         xml;</span><br><span class="line">image/gif                                        gif;</span><br><span class="line">image/jpeg                                       jpeg jpg;</span><br><span class="line">application/javascript                           js;</span><br><span class="line">application/atom+xml                             atom;</span><br><span class="line">application/rss+xml                              rss;</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br></pre></td></tr></table></figure>
<p>  ç¬¬ä¸€åˆ—å¯¹åº”HTTPåè®®ä¸­Content-Typeç±»å‹ï¼Œç¬¬äºŒåˆ—æ˜¯è¯¥ç±»å‹å®é™…çš„æ–‡ä»¶æ‰©å±•åï¼ŒNginxé€šè¿‡æœåŠ¡å™¨ç«¯æ–‡ä»¶çš„åç¼€åæ¥åˆ¤æ–­è¿™ä¸ªæ–‡ä»¶å±äºä»€ä¹ˆç±»å‹ï¼Œå†å°†è¯¥æ•°æ®ç±»å‹å†™å…¥HTTPå¤´éƒ¨çš„Content-Typeå­—æ®µä¸­ï¼Œè¿”å›å®¢æˆ·ç«¯</p>
</li>
</ul>
<ul>
<li><p><code>default_type application/octet-stream;</code> å³ä¸Šè¡¨ä¸­ä¸å­˜åœ¨çš„æ–‡ä»¶ä½¿ç”¨è¯¥é»˜è®¤ç±»å‹</p>
</li>
<li><p><code>charset utf-8;</code> é»˜è®¤ç¼–ç </p>
</li>
<li><p><code>client_header_buffer_size 32k;</code> ä¸Šä¼ æ–‡ä»¶å¤§å°é™åˆ¶</p>
</li>
<li><p><code>sendfile</code> sendfileæŒ‡ä»¤æŒ‡å®šnginxæ˜¯å¦è°ƒç”¨sendfileå‡½æ•°æ¥è¾“å‡ºæ–‡ä»¶</p>
<ul>
<li><p>sendfile on; å¼€å¯é«˜æ•ˆæ–‡ä»¶ä¼ è¾“æ¨¡å¼ï¼Œå¯¹äºæ™®é€šåº”ç”¨è®¾ä¸º onï¼Œå¯¹äºä¸‹è½½ç­‰IOé‡è´Ÿè½½åº”ç”¨ï¼Œå¯è®¾ç½®ä¸ºoffï¼Œä»¥å¹³è¡¡ç£ç›˜ä¸ç½‘ç»œI/Oå¤„ç†é€Ÿåº¦ï¼Œé™ä½ç³»ç»Ÿçš„è´Ÿè½½ï¼Œå¦‚æœå›¾ç‰‡æ˜¾ç¤ºä¸æ­£å¸¸æŠŠè¿™ä¸ªæ”¹æˆoffã€‚</p>
</li>
<li><p>è¿™ä¸ªå‚æ•°çš„å·¥ä½œåŸç†æ˜¯è¿™æ ·çš„ï¼Œè‹¥è®¾ç½®ä¸ºoffæ—¶ï¼Œè¿›è¡Œä¸‹è½½æ—¶æ–‡ä»¶é¦–å…ˆä¼šä¼ é€’ç»™Nginxåº”ç”¨ï¼Œæ¥ç€Nginxä¼šé€šçŸ¥ç³»ç»Ÿå†…æ ¸ï¼Œå¹¶å°†æ–‡ä»¶ä¼ é€’ç»™å†…æ ¸ï¼Œæœ€åç”±å†…æ ¸é€šè¿‡ç½‘å¡å°†æ–‡ä»¶ä¼ è¾“å‡ºå»ï¼Œæ•´ä¸ªè¿‡ç¨‹æœ‰ä¸¤æ¬¡è€—æ—¶çš„IOæ“ä½œï¼›è€Œè‹¥è®¾ç½®ä¸ºonæ—¶ï¼Œæ–‡ä»¶ä¸å†è¢«ä¼ é€’ç»™Nginxï¼Œè€Œæ˜¯Nginxå‘å†…æ ¸å‘é€æŒ‡ä»¤ï¼Œæ“ä½œå†…æ ¸å»è·å–æ–‡ä»¶é€šè¿‡ç½‘å¡å°†æ–‡ä»¶ä¼ è¾“å‡ºå»</p>
</li>
</ul>
</li>
<li><p><code>tcp_nopush</code> åœ¨linux/Unixç³»ç»Ÿä¸­ä¼˜åŒ–tcpæ•°æ®ä¼ è¾“ï¼Œä»…åœ¨sendfileå¼€å¯æ—¶æœ‰æ•ˆ</p>
</li>
<li><p><code>autoindex on;</code>#å¼€å¯ç›®å½•åˆ—è¡¨è®¿é—®ï¼Œåˆé€‚ä¸‹è½½æœåŠ¡å™¨ï¼Œé»˜è®¤å…³é—­ã€‚</p>
</li>
<li><p><code>keepalive_timeout 120;</code>é•¿è¿æ¥è¶…æ—¶æ—¶é—´ï¼Œå•ä½æ˜¯ç§’</p>
</li>
</ul>
<ul>
<li><p><code>gzip on;</code> å¼€å¯gzipå‹ç¼©è¾“å‡º</p>
<ul>
<li><p><code>gzip_min_length 1k;</code>  è®¾ç½®å…è®¸å‹ç¼©çš„é¡µé¢æœ€å°å­—èŠ‚æ•°ï¼Œé¡µé¢å­—èŠ‚æ•°ä»headerå¤´å¾—content-lengthä¸­è¿›è¡Œè·å–ã€‚é»˜è®¤å€¼æ˜¯0ï¼Œä¸ç®¡é¡µé¢å¤šå¤§éƒ½å‹ç¼©ã€‚å»ºè®®è®¾ç½®æˆå¤§äº2kçš„å­—èŠ‚æ•°ï¼Œå°äº2kå¯èƒ½ä¼šè¶Šå‹è¶Šå¤§ã€‚  </p>
</li>
<li><p><code>gzip_buffers 4 16k;</code> ç”¨äºå‘ç³»ç»Ÿç”³è¯·ç¼“å­˜ï¼Œæ¥å­˜å‚¨gzipçš„å‹ç¼©ç»“æœæ•°æ®æµã€‚ ä¾‹å¦‚ 4 4k ä»£è¡¨ä»¥4kä¸ºå•ä½ï¼ŒæŒ‰ç…§åŸå§‹æ•°æ®å¤§å°ä»¥4kä¸ºå•ä½çš„4å€ç”³è¯·å†…å­˜ã€‚ 4 8k ä»£è¡¨ä»¥8kä¸ºå•ä½ï¼ŒæŒ‰ç…§åŸå§‹æ•°æ®å¤§å°ä»¥8kä¸ºå•ä½çš„4å€ç”³è¯·å†…å­˜ã€‚å¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œé»˜è®¤å€¼æ˜¯ç”³è¯·è·ŸåŸå§‹æ•°æ®ç›¸åŒå¤§å°çš„å†…å­˜ç©ºé—´å»å­˜å‚¨gzipå‹ç¼©ç»“æœã€‚</p>
</li>
<li><p><code>gzip_http_version 1.0;</code>å‹ç¼©ç‰ˆæœ¬ï¼ˆé»˜è®¤1.1ï¼Œå‰ç«¯å¦‚æœæ˜¯squid2.5è¯·ä½¿ç”¨1.0ï¼‰</p>
</li>
<li><p><code>gzip_comp_level 2;</code> å‹ç¼©çº§åˆ«ï¼Œ1-10ï¼Œæ•°å­—è¶Šå¤§å‹ç¼©çš„è¶Šå¥½ï¼Œä¹Ÿè¶Šå ç”¨CPUæ—¶é—´  </p>
</li>
<li><p><code>gzip_types text/plain application/x-javascript text/css application/xml;</code>å‹ç¼©ç±»å‹ï¼Œé»˜è®¤å€¼: gzip_types text/htmlï¼Œé»˜è®¤ä¸å¯¹js/cssæ–‡ä»¶è¿›è¡Œå‹ç¼©</p>
</li>
</ul>
</li>
</ul>
<p><del>å“‡å¤ªå¤šäº†å‰©ä¸‹çš„æ˜å¤©å†™</del></p>

      
    </div>
    
    
    

    

    

    

    <div>
      
        <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">æœ¬æ–‡ç»“æŸ æ„Ÿè°¢é˜…è¯»</div>
    
</div>
      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Nginx/" rel="tag"># Nginx</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/07/08/java-7/" rel="next" title="JavaWebç¬”è®°-SpringBoot D4">
                <i class="fa fa-chevron-left"></i> JavaWebç¬”è®°-SpringBoot D4
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/uploads/img.jpeg" alt="é»‘é¢å®å®">
            
              <p class="site-author-name" itemprop="name">é»‘é¢å®å®</p>
              <p class="site-description motion-element" itemprop="description">å•çº¯çš„èœé¸¡ä¸€æš</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">21</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categrories/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/yourname" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:yourname@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#webæœåŠ¡å™¨"><span class="nav-number">1.</span> <span class="nav-text">webæœåŠ¡å™¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Nginxï¼ˆTengineï¼‰å®‰è£…"><span class="nav-number">2.</span> <span class="nav-text">Nginxï¼ˆTengineï¼‰å®‰è£…</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ç¯å¢ƒ-amp-ä¾èµ–"><span class="nav-number">2.1.</span> <span class="nav-text">ç¯å¢ƒ&amp;ä¾èµ–</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä¸‹è½½-amp-å®‰è£…"><span class="nav-number">2.2.</span> <span class="nav-text">ä¸‹è½½&amp;å®‰è£…</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è„šæœ¬åŒ–æ“ä½œ"><span class="nav-number">3.</span> <span class="nav-text">è„šæœ¬åŒ–æ“ä½œ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#å¯åŠ¨æœåŠ¡"><span class="nav-number">3.0.1.</span> <span class="nav-text">å¯åŠ¨æœåŠ¡</span></a></li></ol></li></ol><li class="nav-item nav-level-2"><a class="nav-link" href="#Nginxé…ç½®æ–‡ä»¶è§£æ"><span class="nav-number">4.</span> <span class="nav-text">Nginxé…ç½®æ–‡ä»¶è§£æ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Nginxé…ç½®ç»“æ„"><span class="nav-number">4.1.</span> <span class="nav-text">Nginxé…ç½®ç»“æ„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Nginxé…ç½®æ–‡ä»¶å…·ä½“è§£æ"><span class="nav-number">4.2.</span> <span class="nav-text">Nginxé…ç½®æ–‡ä»¶å…·ä½“è§£æ</span></a></li></ol></li></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
    
      <!--/tag cloud-->
      <!--
        <script type="text/javascript" charset="utf-8" src="/js/tagcloud.js"></script>
        <script type="text/javascript" charset="utf-8" src="/js/tagcanvas.js"></script>
        <div class="widget-wrap">
            <h3 class="widget-title"></h3>
            <div id="myCanvasContainer" class="widget tagcloud" style="margin-top">
                <canvas width="250" height="250" id="resCanvas" style="width:100%">
                    <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/">Nginx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/">Spring</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot/">SpringBoot</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jsåŸºç¡€/">jsåŸºç¡€</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/">nodejs</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/">vue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/">webpack</a><span class="tag-list-count">5</span></li></ul>
                </canvas>
            </div>
        </div>
      -->
      <!--/end tag cloud-->

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 &mdash; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-snowflke-o"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">é»‘é¢å®å®</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: 'Bm4PDVfyII7AkipwzxUcreCx-gzGzoHsz',
        appKey: '615Uf5xJsI8lA8parGYw56gv',
        placeholder: 'å‘è¡¨ä½ çš„çœ‹æ³•å§ï¼',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("Bm4PDVfyII7AkipwzxUcreCx-gzGzoHsz", "615Uf5xJsI8lA8parGYw56gv");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  

  

  


 <!-- <script type="text/javascript" src="/js/src/instantclick.js" data-no-instant></script>
  <script data-no-instant>InstantClick.init();</script>-->
</body>
</html>
